<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Firmata library reference: protocol</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="firmata-docs.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Firmata library reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__g_1__arduino-workspace__firmata_protocol_protocol.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">protocol </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Current version: 2.6.0</p>
<p>The intention of this protocol is to allow as much of the microcontroller to be controlled as possible from the host computer. This protocol was designed for the direct communication between a microcontroller and a software object on a host computer. The host software object should then provide an interface that makes sense in that environment.</p>
<p>The data communication format uses MIDI messages. It is not necessarily a MIDI device, first it uses a faster serial speed, and second, the messages don't always map the same.</p>
<h1><a class="anchor" id="autotoc_md93"></a>
Message Types</h1>
<p>This protocol uses the <a href="http://www.midi.org/techspecs/midimessages.php">MIDI message format</a>, but does not use the whole protocol. Most of the command mappings here will not be directly usable in terms of MIDI controllers and synths. It should co-exist with MIDI without trouble and can be parsed by standard MIDI interpreters. Just some of the message data is used differently.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">type  </th><th class="markdownTableHeadNone">command  </th><th class="markdownTableHeadNone">MIDI channel  </th><th class="markdownTableHeadNone">first byte  </th><th class="markdownTableHeadNone">second byte   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">analog I/O message  </td><td class="markdownTableBodyNone">0xE0  </td><td class="markdownTableBodyNone">pin #  </td><td class="markdownTableBodyNone">LSB(bits 0-6)  </td><td class="markdownTableBodyNone">MSB(bits 7-13)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">digital I/O message  </td><td class="markdownTableBodyNone">0x90  </td><td class="markdownTableBodyNone">port  </td><td class="markdownTableBodyNone">LSB(bits 0-6)  </td><td class="markdownTableBodyNone">MSB(bits 7-13)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">report analog pin  </td><td class="markdownTableBodyNone">0xC0  </td><td class="markdownTableBodyNone">pin #  </td><td class="markdownTableBodyNone">disable/enable(0/1)  </td><td class="markdownTableBodyNone">- n/a -   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">report digital port  </td><td class="markdownTableBodyNone">0xD0  </td><td class="markdownTableBodyNone">port  </td><td class="markdownTableBodyNone">disable/enable(0/1)  </td><td class="markdownTableBodyNone">- n/a -   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">start sysex  </td><td class="markdownTableBodyNone">0xF0  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">set pin mode(I/O)  </td><td class="markdownTableBodyNone">0xF4  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">pin # (0-127)  </td><td class="markdownTableBodyNone">pin mode   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">set digital pin value  </td><td class="markdownTableBodyNone">0xF5  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">pin # (0-127)  </td><td class="markdownTableBodyNone">pin value(0/1)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sysex end  </td><td class="markdownTableBodyNone">0xF7  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">protocol version  </td><td class="markdownTableBodyNone">0xF9  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">major version  </td><td class="markdownTableBodyNone">minor version   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">system reset  </td><td class="markdownTableBodyNone">0xFF  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
</table>
<p>Sysex-based sub-commands (0x00 - 0x7F) are used for an extended command set.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">type  </th><th class="markdownTableHeadNone">sub-command  </th><th class="markdownTableHeadNone">first byte  </th><th class="markdownTableHeadNone">second byte  </th><th class="markdownTableHeadNone">...   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">string  </td><td class="markdownTableBodyNone">0x71  </td><td class="markdownTableBodyNone">char *string ...  </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">firmware name/version  </td><td class="markdownTableBodyNone">0x79  </td><td class="markdownTableBodyNone">major version  </td><td class="markdownTableBodyNone">minor version  </td><td class="markdownTableBodyNone">char *name ...   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md94"></a>
Data Message Expansion</h1>
<p>Two byte digital data format, second nibble of byte 0 gives the port number (eg 0x92 is the third port, port 2) </p><div class="fragment"><div class="line">0  digital data, 0x90-0x9F, (MIDI NoteOn, bud different data format)</div>
<div class="line">1  digital pins 0-6 bitmask</div>
<div class="line">2  digital pin 7 bitmask</div>
</div><!-- fragment --><p>Analog 14-bit data format </p><div class="fragment"><div class="line">0  analog pin, 0xE0-0xEF, (MIDI Pitch Wheel)</div>
<div class="line">1  analog least significant 7 bits</div>
<div class="line">2  analog most significant 7 bits</div>
</div><!-- fragment --><p> Version report format </p><div class="fragment"><div class="line">0  version report header (0xF9) (MIDI Undefined)</div>
<div class="line">1  major version (0-127)</div>
<div class="line">2  minor version (0-127)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md95"></a>
Control Messages Expansion</h1>
<p>Set pin mode </p><div class="fragment"><div class="line">0  set digital pin mode (0xF4) (MIDI Undefined)</div>
<div class="line">1  set pin number (0-127)</div>
<div class="line">2  mode (INPUT/OUTPUT/ANALOG/PWM/SERVO/I2C/ONEWIRE/STEPPER/ENCODER/SERIAL/PULLUP, 0/1/2/3/4/6/7/8/9/10/11)</div>
</div><!-- fragment --><p>Set digital pin value (added in v2.5) </p><div class="fragment"><div class="line">0  set digital pin value (0xF5) (MIDI Undefined)</div>
<div class="line">1  set pin number (0-127)</div>
<div class="line">2  value (LOW/HIGH, 0/1)</div>
</div><!-- fragment --><p>Toggle analogIn reporting by pin </p><div class="fragment"><div class="line">0  toggle analogIn reporting (0xC0-0xCF) (MIDI Program Change)</div>
<div class="line">1  disable(0) / enable(non-zero)</div>
</div><!-- fragment --><p> <em>As of Firmata 2.4.0, upon enabling an analog pin, the pin value should be reported to the client application.</em></p>
<p>Toggle digital port reporting by port (second nibble of byte 0), eg 0xD1 is port 1 is pins 8 to 15 </p><div class="fragment"><div class="line">0  toggle digital port reporting (0xD0-0xDF) (MIDI Aftertouch)</div>
<div class="line">1  disable(0) / enable(non-zero)</div>
</div><!-- fragment --><p> <em>As of Firmata 2.4.0, upon enabling a digital port, the port value should be reported to the client application.</em></p>
<p>Request version report </p><div class="fragment"><div class="line">0  request version report (0xF9) (MIDI Undefined)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md96"></a>
Sysex Message Format</h1>
<p>System exclusive (sysex) messages are used to define sets of core and optional firmata features. Core features are related to functionality such as digital and analog I/O, querying information about the state and capabilities of the microcontroller board and the firmware running on the board. All core features are documented in this <a class="el" href="protocol_8md.html">protocol.md</a> file. Optional features extend the hardware capabilities beyond basic digital I/O and analog I/O and also provide APIs to interface with general and specific components and system services. Optional features are individually documented in separate markdown files.</p>
<p>Each firmata sysex message has a feature ID composed of either a single byte or an extended ID composed of 3 bytes where the first byte is always 0 to indicate it's an extended ID. The following table illustrates the structure. The most significant bit must be set to 0 in each byte between the <code>START_SYSEX</code> and <code>END_SYSEX</code> which frame the message.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">byte 0  </th><th class="markdownTableHeadNone">byte 1  </th><th class="markdownTableHeadNone">bytes 2 - N-1  </th><th class="markdownTableHeadNone">byte N   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">START_SYSEX  </td><td class="markdownTableBodyNone">ID (01H-7DH)  </td><td class="markdownTableBodyNone">PAYLOAD  </td><td class="markdownTableBodyNone">END_SYSEX   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">START_SYSEX  </td><td class="markdownTableBodyNone">ID (00H)  </td><td class="markdownTableBodyNone">EXTENDED_ID (00H 00H - 7FH 7FH) + PAYLOAD  </td><td class="markdownTableBodyNone">END_SYSEX   </td></tr>
</table>
<p>Following are SysEx commands used for core features defined in this version of the protocol:</p>
<div class="fragment"><div class="line">EXTENDED_ID                 0x00 // A value of 0x00 indicates the next 2 bytes define the extended ID</div>
<div class="line">RESERVED               0x01-0x0F // IDs 0x01 - 0x0F are reserved for user defined commands</div>
<div class="line">ANALOG_MAPPING_QUERY        0x69 // ask for mapping of analog to pin numbers</div>
<div class="line">ANALOG_MAPPING_RESPONSE     0x6A // reply with mapping info</div>
<div class="line">CAPABILITY_QUERY            0x6B // ask for supported modes and resolution of all pins</div>
<div class="line">CAPABILITY_RESPONSE         0x6C // reply with supported modes and resolution</div>
<div class="line">PIN_STATE_QUERY             0x6D // ask for a pin&#39;s current mode and state (different than value)</div>
<div class="line">PIN_STATE_RESPONSE          0x6E // reply with a pin&#39;s current mode and state (different than value)</div>
<div class="line">EXTENDED_ANALOG             0x6F // analog write (PWM, Servo, etc) to any pin</div>
<div class="line">STRING_DATA                 0x71 // a string message with 14-bits per char</div>
<div class="line">REPORT_FIRMWARE             0x79 // report name and version of the firmware</div>
<div class="line">SAMPLING_INTERVAL           0x7A // the interval at which analog input is sampled (default = 19ms)</div>
<div class="line">SYSEX_NON_REALTIME          0x7E // MIDI Reserved for non-realtime messages</div>
<div class="line">SYSEX_REALTIME              0X7F // MIDI Reserved for realtime messages</div>
</div><!-- fragment --><p>The full set of core and optional Firmata feature IDs is defined in the <a href="https://github.com/firmata/protocol/blob/master/feature-registry.md">firmata-registry.md</a> file. See the registry for more info on proposing a new feature and obtaining an feature ID.</p>
<h2><a class="anchor" id="autotoc_md97"></a>
Query Firmware Name and Version</h2>
<p>The firmware name to be reported should be exactly the same as the name of the Firmata client file, minus the file extension. So for StandardFirmata.ino, the firmware name is: StandardFirmata.</p>
<p>Query firmware Name and Version </p><div class="fragment"><div class="line">0  START_SYSEX       (0xF0)</div>
<div class="line">1  queryFirmware     (0x79)</div>
<div class="line">2  END_SYSEX         (0xF7)</div>
</div><!-- fragment --><p>Receive Firmware Name and Version (after query) </p><div class="fragment"><div class="line">0  START_SYSEX       (0xF0)</div>
<div class="line">1  queryFirmware     (0x79)</div>
<div class="line">2  major version     (0-127)</div>
<div class="line">3  minor version     (0-127)</div>
<div class="line">4  first char of firmware name (LSB)</div>
<div class="line">5  first char of firmware name (MSB)</div>
<div class="line">6  second char of firmware name (LSB)</div>
<div class="line">7  second char of firmware name (MSB)</div>
<div class="line">... for as many bytes as it needs</div>
<div class="line">N  END_SYSEX         (0xF7)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md98"></a>
Extended Analog</h2>
<p>As an alternative to the normal analog message, this extended version allows addressing beyond pin 15 and supports sending analog values with any number of bits. The number of data bits is inferred by the length of the message.</p>
<div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  extended analog message  (0x6F)</div>
<div class="line">2  pin                      (0-127)</div>
<div class="line">3  bits 0-6                 (least significant byte)</div>
<div class="line">4  bits 7-13                (most significant byte)</div>
<div class="line">... additional bytes may be sent if more bits are needed</div>
<div class="line">N  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md99"></a>
Capability Query</h2>
<p>The capability query provides a list of all modes supported by each pin. Each mode is described by 2 bytes where the first byte is the pin mode (such as digital input, digital output, PWM) and the second byte is the resolution (or sometimes the type of pin such as RX or TX for a UART pin). A value of <code>0x7F</code> is used as a separator to mark the end each pin's list of modes. The number of pins supported is inferred by the message length.</p>
<h3><a class="anchor" id="autotoc_md100"></a>
Capabilities query</h3>
<div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  CAPABILITY_QUERY         (0x6B)</div>
<div class="line">2  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md101"></a>
Capabilities response</h3>
<div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  CAPABILITY_RESPONSE      (0x6C)</div>
<div class="line">2  1st supported mode of pin 0</div>
<div class="line">3  1st mode&#39;s resolution of pin 0</div>
<div class="line">4  2nd supported mode of pin 0</div>
<div class="line">5  2nd mode&#39;s resolution of pin 0</div>
<div class="line">... additional modes/resolutions, followed by `0x7F`,</div>
<div class="line">    to mark the end of the pin&#39;s modes. Subsequently, each pin</div>
<div class="line">    follows with its modes/resolutions and `0x7F`,</div>
<div class="line">    until all pins are defined.</div>
<div class="line">N  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md102"></a>
Supported Modes</h4>
<p>The modes in the following list are the modes of operation that can be returned during the capability response: </p><div class="fragment"><div class="line">DIGITAL_INPUT      (0x00)</div>
<div class="line">DIGITAL_OUTPUT     (0x01)</div>
<div class="line">ANALOG_INPUT       (0x02)</div>
<div class="line">PWM                (0x03)</div>
<div class="line">SERVO              (0x04)</div>
<div class="line">SHIFT              (0x05)</div>
<div class="line">I2C                (0x06)</div>
<div class="line">ONEWIRE            (0x07)</div>
<div class="line">STEPPER            (0x08)</div>
<div class="line">ENCODER            (0x09)</div>
<div class="line">SERIAL             (0x0A)</div>
<div class="line">INPUT_PULLUP       (0x0B)</div>
</div><!-- fragment --><p><em>If no modes are defined for a pin, no values are returned (other than the separator value <code>0x7F</code>) and it should be assumed that pin is unsupported by Firmata.</em></p>
<h4><a class="anchor" id="autotoc_md103"></a>
Mode Resolution</h4>
<p>The resolution byte serves a couple of different purpose:</p>
<ol type="1">
<li>The original purpose was to define the resolution for analog input, pwm, servo and other modes that define a specific resolution (such as 10-bit for analog).</li>
<li>The resolution byte has been adapted for another purpose for Serial/UART pins, it defines if the pin is RX or TX and which UART it belongs to. <a href="https://github.com/firmata/protocol/blob/master/serial.md#serial-pin-capability-response">RX0</a> is the RX pin of UART0 (Serial on an Arduino for example), TX1 if the TX pin of UART1 (Serial1 on an Arduino).</li>
</ol>
<p>Modes utilizing the resolution byte as resolution data: </p><div class="fragment"><div class="line">DIGITAL_INPUT      (0x00) // resolution is 1 (binary)</div>
<div class="line">DIGITAL_OUTPUT     (0x01) // resolution is 1 (binary)</div>
<div class="line">ANALOG_INPUT       (0x02) // analog input resolution in number of bits</div>
<div class="line">PWM                (0x03) // pwm resolution in number of bits</div>
<div class="line">SERVO              (0x04) // servo resolution in number of bits</div>
<div class="line">STEPPER            (0x08) // resolution is number number of bits in max number of steps</div>
<div class="line">INPUT_PULLUP       (0x0B) // resolution is 1 (binary)</div>
</div><!-- fragment --><p>Modes utilizing the resolution byte to define type of pin: </p><div class="fragment"><div class="line">SERIAL             (0x0A) // See description in [serial.md](https://github.com/firmata/protocol/blob/master/serial.md#serial-pin-capability-response)</div>
<div class="line">// also to be added to I2C in the future to define SCL and SDA pins</div>
</div><!-- fragment --><p><em>For other features (including I2C until updated) the resolution information is less important so a value of 1 is used.</em></p>
<h2><a class="anchor" id="autotoc_md104"></a>
Analog Mapping Query</h2>
<p>Analog messages are numbered 0 to 15, which traditionally refer to the Arduino pins labeled A0, A1, A2, etc. However, these pins are actually configured using "normal" pin numbers in the pin mode message, and when those pins are used for non-analog functions. The analog mapping query provides the information about which pins (as used with Firmata's pin mode message) correspond to the analog channels.</p>
<p>Analog mapping query </p><div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  analog mapping query     (0x69)</div>
<div class="line">2  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><p>Analog mapping response </p><div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  analog mapping response  (0x6A)</div>
<div class="line">2  analog channel corresponding to pin 0, or 127 if pin 0 does not support analog</div>
<div class="line">3  analog channel corresponding to pin 1, or 127 if pin 1 does not support analog</div>
<div class="line">4  analog channel corresponding to pin 2, or 127 if pin 2 does not support analog</div>
<div class="line">... etc, one byte for each pin</div>
<div class="line">N  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><p><em>The above 2 queries provide static data (should never change for a particular board). Because this information is fixed and should only need to be read once, these messages are designed for a simple implementation in StandardFirmata, rather that bandwidth savings (eg, using packed bit fields).</em></p>
<h2><a class="anchor" id="autotoc_md105"></a>
Pin State Query</h2>
<p>The pin <b>state</b> is any data written to the pin (<em>it is important to note that pin state != pin value</em>). For output modes (digital output, PWM, and Servo), the state is any value that has been previously written to the pin. For input modes, typically the state is zero. However, for digital inputs, the state is the status of the pull-up resistor which is 1 if enabled, 0 if disabled.</p>
<p>The pin state query can also be used as a verification after sending pin modes or data messages.</p>
<p>Pin state query </p><div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  pin state query          (0x6D)</div>
<div class="line">2  pin                      (0-127)</div>
<div class="line">3  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><p>Pin state response </p><div class="fragment"><div class="line">0  START_SYSEX              (0xF0)</div>
<div class="line">1  pin state response       (0x6E)</div>
<div class="line">2  pin                      (0-127)</div>
<div class="line">3  pin mode (the currently configured mode)</div>
<div class="line">4  pin state, bits 0-6</div>
<div class="line">5  (optional) pin state, bits 7-13</div>
<div class="line">6  (optional) pin state, bits 14-20</div>
<div class="line">... additional optional bytes, as many as needed</div>
<div class="line">N  END_SYSEX                (0xF7)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md106"></a>
String</h2>
<p>Send short string messages between the board and the client application. String length is limited to half the buffer size - 3 (for Arduino this limits strings to 30 chars). Commonly used to report error messages to the client. </p><div class="fragment"><div class="line">0  START_SYSEX        (0xF0)</div>
<div class="line">1  STRING_DATA        (0x71)</div>
<div class="line">2  first char LSB</div>
<div class="line">3  first char MSB</div>
<div class="line">4  second char LSB</div>
<div class="line">5  second char MSB</div>
<div class="line">... additional bytes up to half the buffer size - 3 (START_SYSEX, STRING_DATA, END_SYSEX)</div>
<div class="line">N  END_SYSEX          (0xF7)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md107"></a>
Sampling Interval</h2>
<p>The sampling interval sets how often analog data and i2c data is reported to the client. The default for the arduino implementation is 19ms. This means that every 19ms analog data will be reported and any i2c devices with read continuous mode will be read. </p><div class="fragment"><div class="line">0  START_SYSEX        (0xF0)</div>
<div class="line">1  SAMPLING_INTERVAL  (0x7A)</div>
<div class="line">2  sampling interval on the millisecond time scale (LSB)</div>
<div class="line">3  sampling interval on the millisecond time scale (MSB)</div>
<div class="line">4  END_SYSEX          (0xF7)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
