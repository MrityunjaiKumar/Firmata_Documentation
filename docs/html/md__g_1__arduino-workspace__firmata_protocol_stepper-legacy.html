<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Firmata library reference: Stepper Motor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="firmata-docs.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Firmata library reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__g_1__arduino-workspace__firmata_protocol_stepper-legacy.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Stepper Motor </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>Note: This legacy version is deprecated as of Firmata protocol v2.6.0 and therefore is not recommended for new implementations. Please use the new, more full-featured <a href="https://github.com/firmata/protocol/blob/master/accelStepperFirmata.md">AccelStepper version</a> instead.</em></p>
<p>Provides support for 4 wire and 2 wire stepper motor drivers (H-bridge, darlington array, etc) as well as step + direction drivers such as the <a href="http://www.schmalzhaus.com/EasyDriver/">EasyDriver</a>. Current implementation supports 6 stepper motors at the same time (#[0-5]).</p>
<p>Also includes optional support for acceleration and deceleration of the motor.</p>
<p>Added in Firmata protocol version 2.4.0. Deprecated in Firmata protocol version 2.6.0.</p>
<p>Example files:</p><ul>
<li>The Stepper feature is include by default in <a href="https://github.com/firmata/ConfigurableFirmata/blob/master/examples/ConfigurableFirmata/ConfigurableFirmata.ino">ConfigurableFirmata.ino</a>.</li>
<li><a href="https://github.com/firmata/ConfigurableFirmata/blob/master/src/StepperFirmata.cpp">Example implementation</a> as a configurable Firmata feature class.</li>
<li><a href="https://github.com/soundanalogous/AdvancedFirmata">Example of Stepper implementation in StandardFirmata</a>. <em>Note the dependency on the FirmataStepper class.</em></li>
</ul>
<h1><a class="anchor" id="autotoc_md136"></a>
Protocol</h1>
<p>Stepper configuration</p>
<p><em>Note: <code>stepDelay</code> is the the number of microseconds between steps. The default value is 1us. You can change the delay to 2us (useful for high current stepper motor drivers). Additional delay values can be added in the future.</em> </p><div class="fragment"><div class="line">0  START_SYSEX                       (0xF0)</div>
<div class="line">1  Stepper Command                   (0x72)</div>
<div class="line">2  config command                    (0x00 = config, 0x01 = step)</div>
<div class="line">3  device number                     (0-5) (supports up to 6 motors)</div>
<div class="line">4  stepDelay | interface             (upper 4 bits = step delay:</div>
<div class="line">                                        0000XXX = default 1us delay [default]</div>
<div class="line">                                        0001XXX = 2us delay</div>
<div class="line">                                        additional bits not yet used)</div>
<div class="line"> </div>
<div class="line">                                     (lower 3 bits = interface:</div>
<div class="line">                                        XXXX001 = step + direction driver</div>
<div class="line">                                        XXXX010 = two wire</div>
<div class="line">                                        XXXX100 = four wire)</div>
<div class="line">5  steps-per-revolution LSB</div>
<div class="line">6  steps-per-revolution MSB</div>
<div class="line">7  motorPin1 or directionPin number  (0-127)</div>
<div class="line">8  motorPin2 or stepPin number       (0-127)</div>
<div class="line">9  [only when interface = 0x04] motorPin3 (0-127)</div>
<div class="line">10 [only when interface = 0x04] motorPin4 (0-127)</div>
<div class="line">11 END_SYSEX                         (0xF7)</div>
</div><!-- fragment --><p>Stepper step </p><div class="fragment"><div class="line">0  START_SYSEX          (0xF0)</div>
<div class="line">1  Stepper Command      (0x72)</div>
<div class="line">2  config command       (0x01)</div>
<div class="line">3  device number        (0-5)</div>
<div class="line">4  direction            (0-1) (0x00 = CW, 0x01 = CCW)</div>
<div class="line">5  num steps byte1 LSB</div>
<div class="line">6  num steps byte2</div>
<div class="line">7  num steps byte3 MSB  (21 bits (2,097,151 steps max))</div>
<div class="line">8  speed LSB            (steps in 0.01*rad/sec  (2050 = 20.50 rad/sec))</div>
<div class="line">9  speed MSB</div>
<div class="line">10 [optional] accel LSB (acceleration in 0.01*rad/sec^2 (1000 = 10.0 rad/sec^2))</div>
<div class="line">11 [optional] accel MSB</div>
<div class="line">12 [optional] decel LSB (deceleration in 0.01*rad/sec^2)</div>
<div class="line">13 [optional] decel MSB</div>
<div class="line">14 END_SYSEX            (0xF7)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
